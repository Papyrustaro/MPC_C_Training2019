\section{文字列}
ここからは今までの内容とは打って変わって、C言語で文字列を扱う方法についてやっていきます。先に行ってしまうとC言語は文字列を扱うのに向いていません、ですので不便な点が多いと思います。

\subsection{文字列の扱い}
文字列は配列を用いて行います。初期化については""を用いることで行うことができます。

\lstinputlisting{\codepath/3-1_1.c}

\begin{itembox}{出力結果}
\begin{verbatim}
r
fire
fire
\end{verbatim}
\end{itembox}
上のプログラムを見て想像がついた方もいると思いますが、半角英数は配列の一つに対して1つ入ります。ちなみに日本語を扱う場合下記のように配列2つに1つが入ります。
試しに配列の要素数をいじってみるといいと思います。

\lstinputlisting{\codepath/3-1_2.c}


配列への文字の格納は以下のように行われており、配列の末尾の要素には\verb+\0+(NULL文字という特殊な文字)が入っています。そのため、配列の要素は格納した文字数よりも1つ多く宣言しています。

\begin{table}[htb]
\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
str[0] & str[1]& str[2] &str[3]&str[4] \\ \hline
 a&b &c &D &\verb|\0|  \\ \hline


\end{tabular}
\caption{ 文字列の格納}
\end{center}
\end{table}

\subsection{文字列への入力}
入力について普段通りscanfを用いて行うことができるのですが、入力する文字数に注意しなければ上の表で紹介したNULL文字の入る位置がなくなったり、あらかじめ宣言した配列の外のメモリを操作してしまうということが発生します。これらのプログラムがうまく動かなくなったり、エラーの原因となることもあるので,「入力する文字数を制限する」ということを行います。

\lstinputlisting{\codepath/3-2_1.c}

上の場合ではfgetsという関数を用いて文字列の入力を行うこともできます。

\begin{itembox}{fgetsの使い方}
fgets(入力した文字を保存したい文字配列,配列の要素数,stdin)
\end{itembox}

ちなみにsizeofという関数を第2引数に与えることによって文字配列の要素数を得ることができます。
\lstinputlisting{\codepath/3-2_2.c}

strの下にある文章については、入力の時に押したEnterキーでの開業も文字列に保存されるということです。
ちなみにfgetsはscanfとは違い空白文字も読み取ることができます。

\subsection{文字列の操作}
文字列は配列で取り扱っているので、いろんな操作を行うことができます。
どのような出力結果になるか予想してみてください。
\lstinputlisting{\codepath/3-3_1.c}
ちなみにC言語には文字列を扱う為のヘッダファイル(string.h)というものがあります。
かなりマシなプログラムになりますが、他の言語の文字列操作と比べると...
\lstinputlisting{\codepath/3-3_2.c}

string.hにある関数などが色々まとめてあるので参考文献に...今までの講座の参考文献でもあるので先に進みたい方や復習したい方はそちらも利用してみてください。

\section*{参考文献}
\noindent
[1]昨年までの講座資料\newline
[2]\href{http://9cguide.appspot.com}{苦しんで覚えるC言語}\newline
[3]\href{https://yukicoder.me/}{yukicoder}\newline
[4]\href{http://www.c-tipsref.com/reference/string.html}{C言語関数辞典}

\subsection{ASCIIコード}
C言語では半角英数文字には基本的にASCIIコードというものがあり、文字に数字が割り振られています。
\lstinputlisting{\codepath/3-4.c}
そのため上手く使えればいろいろ便利に使えます。授業でも使うことになると思います。



